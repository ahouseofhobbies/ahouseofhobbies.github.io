(this["webpackJsonpaos-reminders"]=this["webpackJsonpaos-reminders"]||[]).push([[16,4,38],{334:function(e,t,c){"use strict";c.d(t,"b",(function(){return o})),c.d(t,"a",(function(){return a}));c(5);var n=c(55),r=c(22),s=c(153),i=c(9);const o=e=>{let{href:t,children:c,label:n,...r}=e;return Object(i.jsx)("a",{href:t,target:"_blank",rel:"noopener noreferrer","aria-label":n,...r,children:c})},a=e=>{const{Icon:t,href:c,btnClass:a,text:l}=e,{isMobile:b}=Object(s.a)();return Object(i.jsx)(o,{href:c,className:"".concat(a," mb-1"),onClick:e=>Object(r.b)("Contact-".concat(l)),label:l,children:Object(i.jsxs)("div",{className:n.a,children:[Object(i.jsx)(t,{className:b?"mx-2 my-1":"mr-2"}),b?"":" ".concat(l)]})})}},337:function(e,t,c){"use strict";var n=c(52),r=c(5),s=c(22);var i=()=>{const e=window.screenX+(window.innerWidth-400)/2,t=window.screenY+(window.innerHeight-600)/2;return window.open(void 0,"auth0:authorize:popup","left=".concat(e,",top=").concat(t,",width=").concat(400,",height=").concat(600,",resizable,scrollbars=yes,status=1"))};t.a=e=>{const{isLoading:t,loginWithPopup:c}=Object(n.b)(),[o,a]=Object(r.useState)(!1);return Object(r.useMemo)((()=>({isLoggingIn:t&&!o,popupIsClosed:o,login:t=>{var n;null===t||void 0===t||null===(n=t.preventDefault)||void 0===n||n.call(t),Object(s.b)("".concat(e.origin,"-Login"));const r=i();a(!1);const o=setInterval((()=>{(null===r||void 0===r?void 0:r.closed)&&(clearInterval(o),a(!0),Object(s.f)("".concat(e.origin,"-Login-Closed")),e.onPopupClose&&e.onPopupClose())}),1e3);return c({authorizationParams:{redirect_uri:window.location.href}},{popup:r})}})),[t,c,o,e])}},338:function(e,t,c){"use strict";var n=c(334),r=c(93),s=c(45),i=c(332),o=c(11),a=c(9);t.a=e=>{let{size:t="normal"}=e;const{isOffline:c}=Object(r.b)(),{isDark:l}=Object(s.b)(),b="btn ".concat("small"===t?"btn-sm":"large"===t?"btn-lg":""," btn-outline-").concat(l?"light":"dark"," mx-1");return c?null:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(n.a,{href:o.b,btnClass:b,Icon:i.l,text:"Github"}),Object(a.jsx)(n.a,{href:"mailto:aosreminders@gmail.com",btnClass:b,Icon:i.i,text:"Email"}),Object(a.jsx)(n.a,{href:"//discord.gg/2nt9Fxp",btnClass:b,Icon:i.g,text:"Discord"})]})}},339:function(e,t,c){"use strict";c.r(t);var n=c(52),r=c(122),s=c(155),i=c(92),o=c(121),a=c(93),l=c(61),b=c(6),d=c(94),j=c(55),u=c(22),O=c(11),h=c(337),m=c(153),x=c(19),f=c(120),g=c(9);t.default=()=>{const{isOffline:e}=Object(a.b)(),{isAuthenticated:t,logout:c}=Object(n.b)(),{login:p,isLoggingIn:v}=Object(h.a)({origin:"Navbar"}),{isActive:w,subscriptionLoading:N}=Object(l.b)(),{isTinyMobile:y}=Object(m.a)(),{pathname:k}=window.location,C=t?"Log out":"Log in";if(e)return Object(g.jsx)(s.f,{});if(v||N)return Object(g.jsx)(s.d,{});const I=f.b.some((e=>e.sale))?Object(b.max)(f.b.map((e=>e.discount_pct))):0;return Object(g.jsxs)(o.a,{children:[k!==O.d.HOME&&Object(g.jsx)(d.a,{to:O.d.HOME,className:j.b.link,onClick:()=>Object(u.b)("Navbar-Home"),children:"Home"}),t&&k!==O.d.PROFILE&&Object(g.jsx)(d.a,{to:O.d.PROFILE,className:j.b.link,onClick:()=>Object(u.b)("Navbar-Profile"),children:"Profile"}),!w&&k!==O.d.SUBSCRIBE&&Object(g.jsxs)(d.a,{to:O.d.SUBSCRIBE,className:j.b.link,onClick:()=>Object(u.b)("Navbar-Subscribe"),children:["Subscribe",!!I&&!y&&Object(g.jsxs)("span",{className:"ml-1 badge badge-pill badge-danger",children:[I,"% off!"]})]}),k!==O.d.FAQ&&Object(g.jsx)(d.a,{to:O.d.FAQ,className:j.b.link,onClick:()=>Object(u.b)("Navbar-Faq"),children:"FAQ"}),Object(g.jsx)(i.a,{className:j.b.btn,onClick:()=>t?(Object(u.b)("Navbar-Logout"),x.f.clear(),x.d.clear(),x.e.clear(),c({clientId:r.clientId,logoutParams:{returnTo:O.a}})):p(),children:C})]})}},355:function(e,t,c){"use strict";var n=c(339),r=c(45),s=c(5),i=c(11),o=c(9);t.a=()=>{const{theme:e}=Object(r.b)();return Object(s.useEffect)((()=>{setTimeout((()=>{window.location.replace(i.d.HOME)}),1e3)}),[]),Object(o.jsxs)("div",{className:"d-block ".concat(e.text),children:[Object(o.jsx)("div",{className:"py-2 ".concat(e.headerColor),children:Object(o.jsx)(n.default,{})}),Object(o.jsx)("div",{className:"row d-flex justify-content-center align-items-center",children:Object(o.jsx)("div",{className:"col mx-5 my-5 py-5 px-5",children:Object(o.jsx)("h1",{className:"text-center",children:"You are now subscribed :) Thanks!"})})})]})}},373:function(e,t,c){"use strict";c.d(t,"b",(function(){return a})),c.d(t,"c",(function(){return l})),c.d(t,"a",(function(){return b}));var n=c(92),r=c(338),s=(c(5),c(332)),i=c(11),o=c(9);const a=e=>Object(o.jsxs)("div",{children:[e.children,Object(o.jsx)("p",{children:"First, you're going to need to create an account and log in. Once you've done that, we'll set your subscription up!"}),Object(o.jsx)(n.a,{className:"btn btn-primary btn-lg",onClick:e.handleClick,children:"Log In / Sign Up"})]}),l=()=>Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h5",{children:"Woohoo! You're all set!"}),Object(o.jsx)("h2",{className:"my-2",children:Object(o.jsx)(s.s,{})}),Object(o.jsx)(n.a,{className:"btn btn-success btn-lg",onClick:()=>{window.location.replace(i.d.PROFILE)},children:"Take me to my Profile!"})]}),b=e=>{let{error:t,showButton:c}=e;return Object(o.jsxs)(o.Fragment,{children:[c&&Object(o.jsxs)(n.a,{className:"btn btn-danger btn-lg",disabled:!0,children:["Error!",Object(o.jsx)(s.r,{className:"ml-2"})]}),Object(o.jsx)("p",{className:"pt-3",children:"We're sorry. There was an error redeeming your subscription."}),Object(o.jsx)("p",{children:Object(o.jsx)("code",{children:t})}),Object(o.jsx)("p",{children:"If you continue to receive this error, please get in contact with us using the links below."}),Object(o.jsx)("div",{className:"row text-center pt-2 pb-3",children:Object(o.jsx)("div",{className:"col",children:Object(o.jsx)(r.a,{size:"small"})})})]})}},589:function(e,t,c){"use strict";c.r(t);var n=c(52),r=c(86),s=c(355),i=c(155),o=c(92),a=c(373),l=c(61),b=c(45),d=c(6),j=c(123),u=c.n(j),O=c(5),h=c(22),m=c(337),x=c(19),f=c(9);const g=Object(O.lazy)((()=>Promise.resolve().then(c.bind(null,339)))),p=()=>Object(f.jsx)("p",{children:"Congratulations! One of your friends has decided that you deserve a subscription to AoS Reminders!"}),v=()=>{const{user:e}=Object(n.b)(),t=(()=>{const e=x.b.get();if(e&&e.giftId)return e;const{redeem:t,referrer:c}=u.a.parse(window.location.search,{ignoreQueryPrefix:!0});return t&&c&&Object(d.isString)(t)&&Object(d.isString)(c)?{giftId:t,userId:c}:null})(),[c,s]=Object(O.useState)(!1),[i,l]=Object(O.useState)("");if(!t&&c)return Object(f.jsx)(a.c,{});if(!t&&i)return Object(f.jsx)(a.a,{error:i,showButton:!0});if(!t)return Object(f.jsx)(w,{});const{giftId:b,userId:j}=t;return Object(f.jsxs)("div",{children:[!i&&!c&&Object(f.jsx)(p,{}),!i&&!c&&Object(f.jsxs)("p",{children:["You're currently logged in as ",Object(f.jsx)("strong",{children:null===e||void 0===e?void 0:e.email}),".",Object(f.jsx)("br",{}),"If you're ready to redeem this gifted subscription, click the button below!"]}),!i&&!c&&Object(f.jsx)(o.a,{className:"btn btn-primary btn-lg",onClick:async t=>{try{if(t.preventDefault(),!(null===e||void 0===e?void 0:e.email))return;const{body:c}=await r.a.redeemGift({giftId:b,userId:j,userName:null===e||void 0===e?void 0:e.email});if(x.b.clear(),c.error)return l(c.error);c.success&&(s(!0),Object(h.f)("Redeemed-Gift"))}catch(c){console.error(c),l("An unknown error occurred.")}},children:"Redeem"}),c&&Object(f.jsx)(a.c,{}),i&&Object(f.jsx)(a.a,{error:i,showButton:!0})]})},w=()=>Object(f.jsx)("p",{children:"We couldn't locate a subscription id. You may have arrived here via a malformed link."}),N=()=>{const{redeem:e,referrer:t}=u.a.parse(window.location.search,{ignoreQueryPrefix:!0});e&&t&&Object(d.isString)(e)&&Object(d.isString)(t)&&x.b.set(e,t)},y=()=>{const{login:e}=Object(m.a)({origin:"Before-Redeem"});return Object(f.jsx)(a.b,{handleClick:t=>{t.preventDefault(),N(),e()},children:Object(f.jsx)(p,{})})};t.default=()=>{const{isLoading:e,user:t}=Object(n.b)(),{getSubscription:c,isActive:r}=Object(l.b)(),{theme:o,isDark:a,setLightTheme:d}=Object(b.b)(),j="container ".concat(o.bgColor," d-flex flex-column align-items-center justify-content-center LoadingContainer");return Object(O.useEffect)((()=>{Object(h.p)(),N()}),[]),Object(O.useEffect)((()=>{c()}),[c]),a&&d(),e?Object(f.jsx)(i.b,{}):r?Object(f.jsx)(s.a,{}):Object(f.jsxs)("div",{className:"d-block ".concat(o.bgColor),children:[Object(f.jsx)("div",{className:"".concat(o.headerColor," py-2"),children:Object(f.jsx)(O.Suspense,{fallback:Object(f.jsx)(i.d,{}),children:Object(f.jsx)(g,{})})}),Object(f.jsx)("div",{className:j,children:Object(f.jsxs)("div",{className:"col text-center",children:[!t&&Object(f.jsx)(y,{}),t&&Object(f.jsx)(v,{})]})})]})}}}]);
//# sourceMappingURL=16.1d728acf.chunk.js.map