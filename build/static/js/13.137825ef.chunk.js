(this["webpackJsonpaos-reminders"]=this["webpackJsonpaos-reminders"]||[]).push([[13],{335:function(e,t,n){"use strict";var o=n(119),r=n(45),c=(n(5),n(342)),a=n.n(c),s=n(9);a.a.setAppElement("#root");t.a=e=>{const{children:t,closeModal:n,isOpen:o,label:c,isProcessing:l=!1}=e,{isDark:u}=Object(r.b)(),d="Modal-".concat(l?"Transparent":u?"Dark":"Light");return Object(s.jsx)(a.a,{className:d,contentLabel:c,isOpen:o,onRequestClose:n,overlayClassName:"Modal-Overlay",children:Object(s.jsxs)("div",{className:"container",children:[l&&Object(s.jsx)(i,{}),Object(s.jsx)("div",{hidden:l,children:t})]})})};const i=e=>{let{isDark:t=!1}=e;const n=t?"light-gray":"dark";return Object(s.jsx)("div",{className:"d-flex flex-row justify-content-center",children:Object(s.jsx)(o.a,{variant:n,size:"large"})})}},337:function(e,t,n){"use strict";var o=n(52),r=n(5),c=n(22);var a=()=>{const e=window.screenX+(window.innerWidth-400)/2,t=window.screenY+(window.innerHeight-600)/2;return window.open(void 0,"auth0:authorize:popup","left=".concat(e,",top=").concat(t,",width=").concat(400,",height=").concat(600,",resizable,scrollbars=yes,status=1"))};t.a=e=>{const{isLoading:t,loginWithPopup:n}=Object(o.b)(),[s,i]=Object(r.useState)(!1);return Object(r.useMemo)((()=>({isLoggingIn:t&&!s,popupIsClosed:s,login:t=>{var o;null===t||void 0===t||null===(o=t.preventDefault)||void 0===o||o.call(t),Object(c.b)("".concat(e.origin,"-Login"));const r=a();i(!1);const s=setInterval((()=>{(null===r||void 0===r?void 0:r.closed)&&(clearInterval(s),i(!0),Object(c.f)("".concat(e.origin,"-Login-Closed")),e.onPopupClose&&e.onPopupClose())}),1e3);return n({authorizationParams:{redirect_uri:window.location.href}},{popup:r})}})),[t,n,s,e])}},341:function(e,t,n){"use strict";var o=n(92),r=n(335),c=n(45),a=n(5),s=n(332),i=n(9);t.a=e=>{const{theme:t}=Object(c.b)(),[n,l]=Object(a.useState)(!1),{bodyText:u="",children:d=null,closeModal:p,confirmBtnClass:f=t.modalDangerClass,confirmText:b="Confirm",denyBtnClass:j=t.modalConfirmClass,denyText:m="Cancel",disableConfirmIcon:y=!1,headerText:O="",isOpen:h=!1,onConfirm:x=null,onConfirmAsync:v=null,onDeny:g=null}=e,C=e.confirmIcon||s.e;return Object(i.jsxs)(r.a,{isOpen:h,isProcessing:n,closeModal:p,label:"".concat(O," Confirmation Modal"),children:[Object(i.jsx)("div",{className:"flex-row",children:Object(i.jsxs)("div",{className:"col ".concat(t.text," text-center"),children:[Object(i.jsx)("h4",{className:"mb-3",children:O}),u&&Object(i.jsx)("p",{className:"mb-3",children:u}),d?Object(i.jsx)("div",{className:"mb-3",children:d}):null]})}),Object(i.jsxs)("div",{className:"d-flex flex-row justify-content-around",children:[Object(i.jsxs)(o.a,{className:f,onClick:async e=>{if(e.preventDefault(),v)try{l(!0),await v()}catch(t){console.error(t)}x&&x(),p()},children:[!y&&Object(i.jsx)(C,{className:"mr-2"})," ",b]}),Object(i.jsx)(o.a,{className:j,onClick:async e=>{e.preventDefault(),g&&g(),p()},children:m})]})]})}},356:function(e,t,n){"use strict";var o=n(334),r=n(341),c=n(45),a=(n(5),n(332)),s=n(22),i=n(11),l=n(9);t.a=e=>{let{closeModal:t,isOpen:n,featureName:u}=e;const{theme:d}=Object(c.b)();return Object(l.jsx)(r.a,{closeModal:t,confirmBtnClass:"btn btn-primary",confirmIcon:a.c,confirmText:"Subscribe",denyBtnClass:d.modalConfirmClass,headerText:"Subscriber-Only Feature",isOpen:n,onConfirm:()=>{Object(s.b)("".concat(u,"-Modal-Subscribe")),t(),window.location.replace(i.d.SUBSCRIBE)},children:Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("p",{children:"Saving data to the cloud increases the hosting fees for AoS Reminders."}),Object(l.jsx)("p",{children:"Please consider subscribing to use this feature (and many more!)"}),Object(l.jsx)("p",{children:Object(l.jsxs)("small",{children:[Object(l.jsx)(o.b,{href:"mailto:aosreminders@gmail.com",label:"Email me",children:"Send me an email"})," ","if you have feedback or questions."]})})]})})}},378:function(e,t,n){"use strict";var o=n(379).CopyToClipboard;o.CopyToClipboard=o,e.exports=o},379:function(e,t,n){"use strict";function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.CopyToClipboard=void 0;var r=s(n(5)),c=s(n(380)),a=["text","onCopy","options","children"];function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},c=Object.keys(e);for(o=0;o<c.length;o++)n=c[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(o=0;o<c.length;o++)n=c[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var c=j(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}(this,n)}}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(i,e);var t,n,o,s=f(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return m(b(e=s.call.apply(s,[this].concat(n))),"onClick",(function(t){var n=e.props,o=n.text,a=n.onCopy,s=n.children,i=n.options,l=r.default.Children.only(s),u=(0,c.default)(o,i);a&&a(o,u),l&&l.props&&"function"===typeof l.props.onClick&&l.props.onClick(t)})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=(e.text,e.onCopy,e.options,e.children),n=u(e,a),o=r.default.Children.only(t);return r.default.cloneElement(o,l(l({},n),{},{onClick:this.onClick}))}}])&&d(t.prototype,n),o&&d(t,o),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.default.PureComponent);t.CopyToClipboard=y,m(y,"defaultProps",{onCopy:void 0,options:void 0})},380:function(e,t,n){"use strict";var o=n(381),r={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,c,a,s,i,l,u=!1;t||(t={}),n=t.debug||!1;try{if(a=o(),s=document.createRange(),i=document.getSelection(),(l=document.createElement("span")).textContent=e,l.ariaHidden="true",l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",l.addEventListener("copy",(function(o){if(o.stopPropagation(),t.format)if(o.preventDefault(),"undefined"===typeof o.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var c=r[t.format]||r.default;window.clipboardData.setData(c,e)}else o.clipboardData.clearData(),o.clipboardData.setData(t.format,e);t.onCopy&&(o.preventDefault(),t.onCopy(o.clipboardData))})),document.body.appendChild(l),s.selectNodeContents(l),i.addRange(s),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");u=!0}catch(d){n&&console.error("unable to copy using execCommand: ",d),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),u=!0}catch(d){n&&console.error("unable to copy using clipboardData: ",d),n&&console.error("falling back to prompt"),c=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(c,e)}}finally{i&&("function"==typeof i.removeRange?i.removeRange(s):i.removeAllRanges()),l&&document.body.removeChild(l),a()}return u}},381:function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],o=0;o<e.rangeCount;o++)n.push(e.getRangeAt(o));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},582:function(e,t,n){"use strict";n.r(t);var o=n(52),r=n(92),c=n(119),a=n(335),s=n(154),i=n(45),l=n(27),u=n(5),d=n(378),p=n.n(d),f=n(332),b=n(56),j=n(22),m=n(46),y=n(157),O=n(9);const h=e=>{let{closeModal:t,modalIsOpen:n}=e;const{relevantNotes:o}=Object(y.a)(),{saveLink:d}=Object(s.b)(),{theme:h,isDark:x}=Object(i.b)(),v=Object(b.c)(l.f.selectCurrentArmy),g=Object(b.c)(l.f.selectReminders),[C,w]=Object(u.useState)(null),[S,k]=Object(u.useState)(!0),[D,N]=Object(u.useState)(!1);return Object(u.useEffect)((()=>((async()=>{const e=Object(m.c)({...v,hiddenReminders:g,notes:o},"save"),t=await d(e);w(t),Object(j.f)("GeneratedLink-".concat(v.factionName)),k(!1)})(),()=>w(null))),[]),Object(O.jsxs)(a.a,{isOpen:n,closeModal:t,label:"Share Link Modal",children:[Object(O.jsx)("div",{className:"row mx-2",children:Object(O.jsxs)("div",{className:"col py-2",children:[Object(O.jsx)("h5",{children:Object(O.jsxs)("strong",{className:h.text,children:[S?"Generating":"Share"," Link"]})}),S&&Object(O.jsx)(c.a,{className:"my-3 mx-5 px-3",variant:x?"light-gray":"dark"}),C&&Object(O.jsx)(p.a,{onCopy:()=>N(!0),text:C,children:Object(O.jsx)("p",{className:"".concat(h.text," mb-0"),children:C})}),D&&Object(O.jsx)("small",{className:"".concat(h.textMuted," mb-0"),children:"Copied to clipboard!"})]})}),Object(O.jsx)("div",{className:"row mt-3 d-flex text-center",children:Object(O.jsxs)("div",{className:"col pl-0",children:[C&&Object(O.jsx)(p.a,{onCopy:()=>N(!0),text:C,children:Object(O.jsxs)(r.a,{className:h.modalConfirmClass,children:[Object(O.jsx)(f.m,{className:"mr-2"})," Copy"]})}),Object(O.jsx)(r.a,{className:h.modalDangerClass,onClick:t,children:"Close"})]})})]})};var x=n(356),v=n(93),g=n(61),C=n(337);t.default=()=>{const{isAuthenticated:e}=Object(o.b)(),{isOffline:t}=Object(v.b)(),{isActive:n}=Object(g.b)(),{login:r}=Object(C.a)({origin:"ShareArmyBtn"}),[c,a]=Object(u.useState)(!1),[s,i]=Object(u.useState)(!1);return t?Object(O.jsx)(O.Fragment,{}):Object(O.jsxs)(O.Fragment,{children:[!e&&Object(O.jsx)(w,{handleClick:r}),e&&!n&&Object(O.jsx)(w,{handleClick:()=>i(!0)}),n&&Object(O.jsx)(w,{handleClick:()=>a(!0)}),c&&Object(O.jsx)(h,{modalIsOpen:c,closeModal:()=>a(!1)}),s&&Object(O.jsx)(x.a,{isOpen:s,featureName:"ShareLink",closeModal:()=>i(!1)})]})};const w=e=>Object(O.jsxs)(r.a,{onClick:e.handleClick,children:[Object(O.jsx)(f.m,{className:"mr-2"})," Share"]})}}]);
//# sourceMappingURL=13.137825ef.chunk.js.map